# “薪火 (Xinhuo)”项目开发路线图

项目愿景: 为学生打造一个基于知识点的个性化学习与自测平台，并为教师提供一个直观的数据看板，以洞察学生学习进度和知识难点。

技术栈:

- 前端: Next.js (TypeScript)
- 后端: Python (FastAPI)
- 数据库: PostgreSQL
- 开发与部署: Docker, Docker Compose, 1Panel

## 阶段零：地基与脚手架 (预计工作量: 3-4天)

目标: 搭建一个功能完备、可一键启动的本地开发环境，并准备好随时可以部署的云端服务器。此阶段不写业务代码，但至关重要。

关键任务:

版本控制:
在GitHub或Gitee上创建名为 xinhuo 的私有代码仓库。
在本地创建 xinhuo 项目文件夹，并初始化Git。
项目结构:
在 xinhuo 根目录下创建 backend (后端) 和 frontend (前端) 两个子目录。
Docker环境搭建 (核心):
在项目根目录创建 docker-compose.yml 文件，定义三个服务：db (PostgreSQL), backend (FastAPI), frontend (Next.js)。
在 backend 目录下创建 Dockerfile，用于构建后端Python环境。
在 frontend 目录下创建 Dockerfile.dev，用于构建前端Node.js开发环境。
服务器准备:
登录您的1Panel云主机。
确保已通过应用商店安装 Docker。
在“数据库”菜单中创建名为 xinhuo_prod 的PostgreSQL数据库，并妥善保管好数据库地址、用户名和密码，以备后续部署使用。
“Hello World” 贯通测试:
在后端FastAPI中创建一个返回 {"message": "Hello from Xinhuo Backend"} 的 / 路由。
在前端Next.js页面中请求后端API，并将返回的消息显示在页面上。
在本地项目根目录运行 docker-compose up --build，确保三个容器（db, backend, frontend）都能成功启动，并且在浏览器访问 http://localhost:3000 时能看到后端返回的消息。
阶段交付成果:

一个可以被团队任何成员克隆下来，并用 docker-compose up 一键启动完整开发环境的项目骨架。

## 阶段一：MVP后端 - 核心API服务 (预计工作量: 1-2周)

目标: 开发支撑最小可行产品（MVP）所需的所有后端API接口，并确保其稳定可靠。此阶段专注于后端逻辑，前端可以暂时 Mock 数据或等待。

关键任务:

数据库建模:
使用SQLAlchemy ORM定义核心数据表模型：
User (用户表：含id, username, hashed_password, role['student', 'teacher'])
Course (课程表)
KnowledgePoint (知识点表：含标题, 内容Markdown, 关联课程, 顺序)
QuizRecord (测试记录表：关联用户和知识点, 成绩, 提交时间)
用户认证体系:
实现教师和学生的多角色登录API接口。
使用JWT生成和验证Token，用于保护需要登录才能访问的接口。
核心内容API (CRUD):
为教师角色开发：增、删、改、查 KnowledgePoint 的全套API。
为学生角色开发：获取课程列表、获取指定课程下的知识点列表、获取单个知识点详情的API。
自测流程API:
开发提交测试答案的API，后端接收答案后能自动判分，并将结果存入 QuizRecord 表。
API文档:
充分利用FastAPI的自动文档生成功能。每完成一个接口，都在 http://localhost:8000/docs 中进行测试，确保其符合预期。
阶段交付成果:

一套完整、经过测试、有清晰文档的后端API服务。
阶段二：MVP前端 - 学生核心体验 (预计工作量: 1-2周)
目标: 打造学生用户能使用的最小闭环产品。学生可以登录、浏览知识点、学习并完成自测。

关键任务:

页面与路由:
创建登录页面。
创建学生主面板页面布局。
创建知识点列表页。
创建知识点详情页，需要一个Markdown渲染组件（如 react-markdown）来展示内容。
创建在线自测页面。
状态管理与API集成:
集成 axios 或 fetch 用于请求阶段一开发的后端API。
管理用户登录状态（如使用Context API 或 Zustand），实现路由守卫，未登录用户无法访问学习页面。
组件开发:
登录表单组件。
知识点卡片/列表项组件。
选择题/判断题等自测题目组件。
阶段交付成果:

一个功能可用的学生端Web应用。此时，您可以找一两个学生作为种子用户进行初步体验和反馈收集。
阶段三：教师端功能与首次部署 (预计工作量: 1周)
目标: 赋能教师角色，使其能管理教学内容并监控学情。同时完成项目首次上线，打通从开发到生产的全流程。

关键任务:

教师端界面开发:
创建内容管理页面，让教师可以通过图形界面，而不是API工具，来增删改查知识点。
创建数据看板页面，用于展示学生学习进度与测试统计。
数据可视化:
在数据看板页面，调用API获取统计数据。
使用图表库（如 Recharts 或 Chart.js）将数据可视化，例如：知识点平均正确率排行、学生完成进度列表等。
首次部署 (手动CD):
在云主机上从Git仓库克隆 xinhuo 项目。
编写 deploy.sh 脚本: 该脚本应包含拉取最新代码、重新构建并重启Docker容器的命令。
手动执行 deploy.sh，完成第一次上线。
在1Panel中配置Nginx反向代理，将您的域名指向前端和后端容器。
阶段交付成果:

一个教师可用的后台管理系统。
一个成功部署到公网、可对外访问的“薪火”v1.0版本。
阶段四：AI赋能与体验优化 (预计工作量: 持续迭代)
目标: 集成AI大模型，为学生提供个性化辅导，并根据用户反馈优化产品。

关键任务:

后端AI接口封装:
在后端开发一个新接口，例如 /knowledge/explain。
该接口接收一个知识点ID，然后调用外部大模型（如Kimi）的API，请求其对该知识点进行“更通俗的解释”或“举一反三的例子”。
前端功能集成:
在知识点学习页面，增加一个“AI小老师”按钮。
点击按钮后，调用后端的AI解释接口，并将结果以对话或卡片形式展示给学生。
优化与迭代:
根据第一批用户的反馈，修复Bug，优化UI/UX。
考虑增加更多功能，如学习路径规划、错题本等。
CI/CD 自动化 (可选进阶):
当项目更新变得频繁时，研究并配置GitHub Actions，将 deploy.sh 脚本的逻辑迁移到云端，实现git push后自动部署。
阶段交付成果:

一个集成了AI辅助学习功能的“薪火”v1.5版本，产品核心竞争力显现。
